<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Profile | CareerPath AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --dark: #1e293b;
            --light: #f8fafc;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f1f5f9;
            color: #334155;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }
        
        .sidebar {
            background: linear-gradient(to bottom, #1e293b, #0f172a);
        }
        
        .sidebar-item {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .sidebar-item::before {
            content: '';
            position: absolute;
            left: -100%;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            z-index: 0;
        }
        
        .sidebar-item:hover::before {
            left: 0;
        }
        
        .sidebar-item.active {
            background: rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--primary);
        }
        
        .sidebar-item.active svg {
            color: var(--primary);
        }
        
        .card {
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .skill-tag {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .skill-tag::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.5s ease;
        }
        
        .skill-tag:hover::after {
            left: 100%;
        }
        
        .banner-edit-overlay, .avatar-edit-overlay {
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .banner-container:hover .banner-edit-overlay,
        .avatar-container:hover .avatar-edit-overlay {
            opacity: 1;
        }
        
        .progress-bar {
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progressShine 2s infinite;
        }
        
        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.6s ease forwards;
        }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); }
            100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0); }
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar Navigation -->
        <div class="sidebar w-full md:w-72 md:h-screen md:sticky md:top-0 z-10">
            <div class="p-6 flex items-center">
                <div class="w-10 h-10 rounded-full gradient-bg flex items-center justify-center text-white mr-3">
                    <i class="fas fa-robot text-xl"></i>
                </div>
                <h1 class="text-xl font-bold text-white">CareerPath AI</h1>
            </div>
            <nav class="mt-4 px-4">
                <ul class="space-y-2">
                    <li>
                        <a href="#general" class="sidebar-item flex items-center px-4 py-3 text-gray-300 rounded-lg hover:text-white">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="#profile" class="sidebar-item active flex items-center px-4 py-3 text-white rounded-lg">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            My Profile
                        </a>
                    </li>
                    <li>
                        <a href="#social" class="sidebar-item flex items-center px-4 py-3 text-gray-300 rounded-lg hover:text-white">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                            Network
                        </a>
                    </li>
                    <li>
                        <a href="#experience" class="sidebar-item flex items-center px-4 py-3 text-gray-300 rounded-lg hover:text-white">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            Career Journey
                        </a>
                    </li>
                    <li>
                        <a href="#skills" class="sidebar-item flex items-center px-4 py-3 text-gray-300 rounded-lg hover:text-white">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                            </svg>
                            AI Skills
                        </a>
                    </li>
                    <li>
                        <a href="#projects" class="sidebar-item flex items-center px-4 py-3 text-gray-300 rounded-lg hover:text-white">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                            </svg>
                            AI Projects
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="absolute bottom-0 left-0 right-0 p-6">
                <div class="bg-indigo-900/30 rounded-xl p-4 text-center">
                    <p class="text-sm text-indigo-200 mb-2">Upgrade to Pro for AI career coaching</p>
                    <button class="gradient-bg hover:opacity-90 text-white px-4 py-2 rounded-lg text-sm font-medium w-full transition">
                        Upgrade Now
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-6 md:p-10">
            <!-- User Profile Section -->
            <section id="profile" class="mb-12 animate-fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                    <div>
                        <h2 class="text-2xl md:text-3xl font-bold text-gray-800">AI Professional Profile</h2>
                        <p class="text-gray-500">Optimized by CareerPath AI</p>
                    </div>
                    <div class="mt-4 md:mt-0 flex space-x-3">
                        <button class="bg-white hover:bg-gray-100 text-gray-800 px-4 py-2 rounded-lg flex items-center transition shadow-sm">
                            <i class="fas fa-download mr-2"></i> Export
                        </button>
                        <button class="gradient-bg hover:opacity-90 text-white px-4 py-2 rounded-lg flex items-center transition shadow-md">
                            <i class="fas fa-magic mr-2"></i> AI Enhance
                        </button>
                    </div>
                </div>

                <!-- Banner -->
                <div class="banner-container relative mb-6 rounded-2xl overflow-hidden shadow-lg animate-fade-in delay-100">
                    <img id="banner-image" src="https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="AI Technology Banner" class="w-full h-48 md:h-64 object-cover">
                    <div class="banner-edit-overlay absolute inset-0 flex items-center justify-center">
                        <div class="flex space-x-4">
                            <button onclick="openBannerUploadModal()" class="bg-white hover:bg-gray-100 text-gray-800 px-4 py-2 rounded-lg flex items-center transition transform hover:scale-105">
                                <i class="fas fa-image mr-2"></i> Change Cover
                            </button>
                            <button class="bg-white hover:bg-gray-100 text-gray-800 px-4 py-2 rounded-lg flex items-center transition transform hover:scale-105">
                                <i class="fas fa-palette mr-2"></i> AI Generate
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Profile Picture and Basic Info -->
                <div class="flex flex-col md:flex-row items-start md:items-end -mt-16 md:-mt-20 mb-6 animate-fade-in delay-200">
                    <div class="avatar-container relative mb-4 md:mb-0 md:mr-6 group">
                        <div class="w-32 h-32 rounded-full border-4 border-white object-cover shadow-lg overflow-hidden relative pulse">
                            <img id="profile-image" src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1180&q=80" alt="Profile" class="w-full h-full object-cover">
                            <div class="avatar-edit-overlay absolute inset-0 rounded-full flex items-center justify-center">
                                <div class="flex space-x-3">
                                    <button onclick="openAvatarUploadModal()" class="bg-white hover:bg-gray-100 text-gray-800 p-2 rounded-full transition transform hover:scale-110">
                                        <i class="fas fa-camera"></i>
                                    </button>
                                    <button class="bg-white hover:bg-gray-100 text-gray-800 p-2 rounded-full transition transform hover:scale-110">
                                        <i class="fas fa-robot"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="absolute -bottom-2 -right-2 bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center border-2 border-white shadow-md">
                            <i class="fas fa-check text-xs"></i>
                        </div>
                    </div>

                    <div class="flex-1 w-full">
                        <div class="flex flex-col md:flex-row md:items-end md:justify-between bg-white rounded-xl p-6 shadow-sm">
                            <div>
                                <h1 id="user-name" class="text-2xl md:text-3xl font-bold text-gray-800">Dr. Alex Chen</h1>
                                <p id="user-title" class="text-gray-600">AI Research Scientist & Machine Learning Engineer</p>
                                <p class="text-indigo-500 text-sm mt-1 flex items-center">
                                    <i class="fas fa-link mr-1"></i> 
                                    <span id="profile-link">https://careerpath.ai/alexchen</span>
                                    <button class="ml-2 text-indigo-300 hover:text-indigo-600" onclick="copyProfileLink()">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </p>
                            </div>
                            <div class="mt-4 md:mt-0 flex space-x-3">
                                <button class="bg-indigo-50 hover:bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg transition flex items-center">
                                    <i class="fas fa-share-alt mr-2"></i> Share
                                </button>
                                <button onclick="openEditProfileModal()" class="gradient-bg hover:opacity-90 text-white px-6 py-2 rounded-lg transition flex items-center shadow-md">
                                    <i class="fas fa-pen mr-2"></i> Edit Profile
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Location and About -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 animate-fade-in delay-300">
                    <div class="md:col-span-2 space-y-6">
                        <div class="card bg-white rounded-xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-lg text-gray-800 flex items-center">
                                    <i class="fas fa-map-marker-alt text-indigo-500 mr-2"></i>
                                    Location & Contact
                                </h3>
                                <button onclick="openEditLocationModal()" class="text-indigo-500 hover:text-indigo-700">
                                    <i class="fas fa-pen"></i>
                                </button>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <p class="text-sm text-gray-500">Location</p>
                                    <p id="user-location" class="text-gray-800 font-medium">San Francisco, CA</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">Email</p>
                                    <p id="user-email" class="text-gray-800 font-medium">alex.chen@careerpath.ai</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">Phone</p>
                                    <p id="user-phone" class="text-gray-800 font-medium">+1 (415) 555-0199</p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">Timezone</p>
                                    <p id="user-timezone" class="text-gray-800 font-medium">PST (UTC-8)</p>
                                </div>
                            </div>
                        </div>

                        <div class="card bg-white rounded-xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-lg text-gray-800 flex items-center">
                                    <i class="fas fa-user-tie text-indigo-500 mr-2"></i>
                                    Professional Summary
                                </h3>
                                <div class="flex space-x-2">
                                    <button onclick="openEditSummaryModal()" class="text-indigo-500 hover:text-indigo-700">
                                        <i class="fas fa-pen"></i>
                                    </button>
                                    <button class="text-indigo-500 hover:text-indigo-700">
                                        <i class="fas fa-robot"></i>
                                    </button>
                                </div>
                            </div>
                            <p id="user-summary" class="text-gray-800 mb-4">PhD in Artificial Intelligence with 8+ years of experience in machine learning, deep learning, and AI research. Specialized in computer vision, natural language processing, and reinforcement learning. Passionate about developing ethical AI solutions that solve real-world problems.</p>
                            <div class="flex justify-between items-center text-sm text-gray-500">
                                <div class="flex items-center">
                                    <i class="fas fa-eye mr-1"></i>
                                    <span>AI Optimized Summary</span>
                                </div>
                                <button class="text-indigo-500 hover:text-indigo-700 flex items-center">
                                    <i class="fas fa-sync-alt mr-1"></i>
                                    <span>Regenerate</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <div class="card bg-white rounded-xl p-6">
                            <h3 class="font-semibold text-lg text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-chart-line text-indigo-500 mr-2"></i>
                                AI Profile Strength
                            </h3>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <p class="text-sm text-gray-500">Completion</p>
                                        <p class="text-sm font-medium text-indigo-500">85%</p>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5 progress-bar">
                                        <div class="bg-gradient-to-r from-indigo-500 to-purple-500 h-2.5 rounded-full" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">Profile Views</p>
                                    <p class="text-gray-800 font-medium text-2xl">1,842</p>
                                    <p class="text-xs text-green-500 mt-1 flex items-center">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        <span>12% increase this month</span>
                                    </p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">AI Match Score</p>
                                    <div class="flex items-center">
                                        <div class="w-full bg-gray-200 rounded-full h-2.5 mr-2">
                                            <div class="bg-gradient-to-r from-green-400 to-blue-500 h-2.5 rounded-full" style="width: 92%"></div>
                                        </div>
                                        <span class="text-sm font-medium text-gray-700">92/100</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card bg-white rounded-xl p-6">
                            <h3 class="font-semibold text-lg text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-bell text-indigo-500 mr-2"></i>
                                AI Recommendations
                            </h3>
                            <div class="space-y-3">
                                <div class="flex items-start">
                                    <div class="bg-indigo-100 text-indigo-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 mt-0.5">
                                        <i class="fas fa-plus text-xs"></i>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-800">Add 3 more projects to increase visibility by 25%</p>
                                        <button class="text-indigo-500 text-xs mt-1 hover:text-indigo-700">View suggestions</button>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <div class="bg-green-100 text-green-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 mt-0.5">
                                        <i class="fas fa-users text-xs"></i>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-800">Connect with 5 AI researchers in your network</p>
                                        <button class="text-indigo-500 text-xs mt-1 hover:text-indigo-700">See matches</button>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <div class="bg-purple-100 text-purple-600 rounded-full w-8 h-8 flex items-center justify-center mr-3 mt-0.5">
                                        <i class="fas fa-book text-xs"></i>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-800">Complete the 'Advanced NLP' skill assessment</p>
                                        <button class="text-indigo-500 text-xs mt-1 hover:text-indigo-700">Take test</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Network Section -->
            <section id="social" class="mb-12 animate-fade-in delay-400">
                <div class="card bg-white rounded-xl p-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <div>
                            <h2 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-users text-indigo-500 mr-2"></i>
                                Professional Network
                            </h2>
                            <p class="text-gray-500">Connect with AI professionals and recruiters</p>
                        </div>
                        <button class="mt-4 md:mt-0 gradient-bg hover:opacity-90 text-white px-6 py-2 rounded-lg transition shadow-md flex items-center">
                            <i class="fas fa-plus mr-2"></i> Expand Network
                        </button>
                    </div>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-indigo-50 rounded-xl p-4 text-center group hover:bg-indigo-100 transition cursor-pointer">
                            <div class="w-16 h-16 rounded-full bg-white mx-auto mb-3 overflow-hidden shadow-md group-hover:shadow-lg transition">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Connection" class="w-full h-full object-cover">
                            </div>
                            <p class="font-medium text-gray-800">Dr. Sarah Lin</p>
                            <p class="text-xs text-gray-500">NLP Researcher</p>
                            <button class="mt-2 text-xs bg-white hover:bg-gray-100 text-gray-800 px-3 py-1 rounded-full transition">
                                Connect
                            </button>
                        </div>
                        <div class="bg-indigo-50 rounded-xl p-4 text-center group hover:bg-indigo-100 transition cursor-pointer">
                            <div class="w-16 h-16 rounded-full bg-white mx-auto mb-3 overflow-hidden shadow-md group-hover:shadow-lg transition">
                                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Connection" class="w-full h-full object-cover">
                            </div>
                            <p class="font-medium text-gray-800">Raj Patel</p>
                            <p class="text-xs text-gray-500">AI Product Manager</p>
                            <button class="mt-2 text-xs bg-white hover:bg-gray-100 text-gray-800 px-3 py-1 rounded-full transition">
                                Connect
                            </button>
                        </div>
                        <div class="bg-indigo-50 rounded-xl p-4 text-center group hover:bg-indigo-100 transition cursor-pointer">
                            <div class="w-16 h-16 rounded-full bg-white mx-auto mb-3 overflow-hidden shadow-md group-hover:shadow-lg transition">
                                <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Connection" class="w-full h-full object-cover">
                            </div>
                            <p class="font-medium text-gray-800">Maria Garcia</p>
                            <p class="text-xs text-gray-500">Computer Vision Engineer</p>
                            <button class="mt-2 text-xs bg-white hover:bg-gray-100 text-gray-800 px-3 py-1 rounded-full transition">
                                Connect
                            </button>
                        </div>
                        <div class="bg-indigo-50 rounded-xl p-4 text-center group hover:bg-indigo-100 transition cursor-pointer">
                            <div class="w-16 h-16 rounded-full bg-white mx-auto mb-3 overflow-hidden shadow-md group-hover:shadow-lg transition">
                                <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Connection" class="w-full h-full object-cover">
                            </div>
                            <p class="font-medium text-gray-800">James Wilson</p>
                            <p class="text-xs text-gray-500">AI Recruiter</p>
                            <button class="mt-2 text-xs bg-white hover:bg-gray-100 text-gray-800 px-3 py-1 rounded-full transition">
                                Connect
                            </button>
                        </div>
                    </div>

                    <div class="mt-8">
                        <h3 class="font-medium text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-link text-indigo-500 mr-2"></i>
                            Professional Links
                        </h3>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                                <div class="w-10 h-10 rounded-lg bg-white flex items-center justify-center mr-4 shadow-sm">
                                    <i class="fab fa-github text-gray-700"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium">GitHub</p>
                                    <p id="user-github" class="text-indigo-500 text-sm">github.com/alexchen-ai</p>
                                </div>
                                <button onclick="openEditLinksModal()" class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                                <div class="w-10 h-10 rounded-lg bg-white flex items-center justify-center mr-4 shadow-sm">
                                    <i class="fab fa-linkedin text-blue-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium">LinkedIn</p>
                                    <p id="user-linkedin" class="text-indigo-500 text-sm">linkedin.com/in/alexchen-ai</p>
                                </div>
                                <button onclick="openEditLinksModal()" class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                                <div class="w-10 h-10 rounded-lg bg-white flex items-center justify-center mr-4 shadow-sm">
                                    <i class="fab fa-google text-red-500"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium">Google Scholar</p>
                                    <p id="user-scholar" class="text-indigo-500 text-sm">scholar.google.com/citations?user=alexchen</p>
                                </div>
                                <button onclick="openEditLinksModal()" class="text-gray-400 hover:text-gray-600">
                                    <i class="fas fa-ellipsis-v"></i>
                                </button>
                            </div>
                        </div>
                        <button onclick="openEditLinksModal()" class="mt-4 text-indigo-500 hover:text-indigo-700 flex items-center">
                            <i class="fas fa-plus mr-2"></i> Add more links
                        </button>
                    </div>
                </div>
            </section>

            <!-- Experience & Education Section -->
            <section id="experience" class="mb-12 animate-fade-in delay-500">
                <div class="card bg-white rounded-xl p-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <div>
                            <h2 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-briefcase text-indigo-500 mr-2"></i>
                                Career Journey
                            </h2>
                            <p class="text-gray-500">Your professional experience and education</p>
                        </div>
                        <div class="mt-4 md:mt-0 flex space-x-3">
                            <button onclick="openAddExperienceModal()" class="bg-white hover:bg-gray-100 text-gray-800 px-4 py-2 rounded-lg transition shadow-sm flex items-center">
                                <i class="fas fa-plus mr-2"></i> Add Experience
                            </button>
                            <button onclick="openAddEducationModal()" class="bg-white hover:bg-gray-100 text-gray-800 px-4 py-2 rounded-lg transition shadow-sm flex items-center">
                                <i class="fas fa-graduation-cap mr-2"></i> Add Education
                            </button>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Experience -->
                        <div>
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-building text-indigo-500 mr-2"></i>
                                Experience
                            </h3>
                            <div id="experience-list" class="space-y-6">
                                <!-- Experience items will be dynamically added here -->
                            </div>
                        </div>

                        <!-- Education -->
                        <div>
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">
                                <i class="fas fa-university text-indigo-500 mr-2"></i>
                                Education
                            </h3>
                            <div id="education-list" class="space-y-6">
                                <!-- Education items will be dynamically added here -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Skills & Tools Section -->
            <section id="skills" class="mb-12">
                <div class="card bg-white rounded-xl p-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <div>
                            <h2 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-cogs text-indigo-500 mr-2"></i>
                                AI Skills & Expertise
                            </h2>
                            <p class="text-gray-500">Validated by CareerPath AI assessment system</p>
                        </div>
                        <button onclick="openAddSkillsModal()" class="mt-4 md:mt-0 gradient-bg hover:opacity-90 text-white px-6 py-2 rounded-lg transition shadow-md flex items-center">
                            <i class="fas fa-plus mr-2"></i> Add Skills
                        </button>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="font-medium text-gray-700 mb-3 flex items-center">
                                <i class="fas fa-brain text-indigo-500 mr-2"></i>
                                Core AI Skills
                            </h3>
                            <div id="core-skills-list" class="flex flex-wrap gap-3">
                                <!-- Core skills will be dynamically added here -->
                            </div>
                        </div>

                        <div>
                            <h3 class="font-medium text-gray-700 mb-3 flex items-center">
                                <i class="fas fa-tools text-indigo-500 mr-2"></i>
                                Technical Tools
                            </h3>
                            <div id="technical-skills-list" class="flex flex-wrap gap-3">
                                <!-- Technical skills will be dynamically added here -->
                            </div>
                        </div>
                    </div>

                    <div class="mt-8">
                        <h3 class="font-medium text-gray-700 mb-3 flex items-center">
                            <i class="fas fa-medal text-indigo-500 mr-2"></i>
                            AI Certifications
                        </h3>
                        <div id="certifications-list" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <!-- Certifications will be dynamically added here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="projects" class="mb-12">
                <div class="card bg-white rounded-xl p-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <div>
                            <h2 class="text-xl font-bold text-gray-800 flex items-center">
                                <i class="fas fa-project-diagram text-indigo-500 mr-2"></i>
                                AI Projects & Publications
                            </h2>
                            <p class="text-gray-500">Showcase your work to potential collaborators and employers</p>
                        </div>
                        <button onclick="openAddProjectModal()" class="mt-4 md:mt-0 gradient-bg hover:opacity-90 text-white px-6 py-2 rounded-lg transition shadow-md flex items-center">
                            <i class="fas fa-plus mr-2"></i> Add Project
                        </button>
                    </div>

                    <div id="projects-list" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Projects will be dynamically added here -->
                    </div>

                    <div class="mt-8">
                        <h3 class="font-medium text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-book text-indigo-500 mr-2"></i>
                            Publications
                        </h3>
                        <div id="publications-list" class="space-y-4">
                            <!-- Publications will be dynamically added here -->
                        </div>
                        <button onclick="openAddPublicationModal()" class="mt-4 text-indigo-500 hover:text-indigo-700 flex items-center">
                            <i class="fas fa-plus mr-2"></i> Add Publication
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Modals -->
    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('edit-profile-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Edit Profile</h2>
            <form id="profile-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Full Name</label>
                    <input type="text" id="edit-name" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Professional Title</label>
                    <input type="text" id="edit-title" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Profile URL</label>
                    <input type="text" id="edit-profile-url" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Edit Location Modal -->
    <div id="edit-location-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('edit-location-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Edit Location & Contact</h2>
            <form id="location-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Location</label>
                    <input type="text" id="edit-location" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Email</label>
                    <input type="email" id="edit-email" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Phone</label>
                    <input type="tel" id="edit-phone" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Timezone</label>
                    <select id="edit-timezone" class="w-full px-4 py-2 border rounded-lg">
                        <option value="PST (UTC-8)">PST (UTC-8)</option>
                        <option value="EST (UTC-5)">EST (UTC-5)</option>
                        <option value="CST (UTC-6)">CST (UTC-6)</option>
                        <option value="GMT (UTC+0)">GMT (UTC+0)</option>
                        <option value="CET (UTC+1)">CET (UTC+1)</option>
                    </select>
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Edit Summary Modal -->
    <div id="edit-summary-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('edit-summary-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Edit Professional Summary</h2>
            <form id="summary-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Summary</label>
                    <textarea id="edit-summary" rows="6" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Edit Links Modal -->
    <div id="edit-links-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('edit-links-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Edit Professional Links</h2>
            <form id="links-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">GitHub</label>
                    <input type="url" id="edit-github" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">LinkedIn</label>
                    <input type="url" id="edit-linkedin" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Google Scholar</label>
                    <input type="url" id="edit-scholar" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Add Experience Modal -->
    <div id="add-experience-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('add-experience-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Add Experience</h2>
            <form id="experience-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Job Title</label>
                    <input type="text" id="experience-title" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Company</label>
                    <input type="text" id="experience-company" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 mb-2">Start Date</label>
                        <input type="text" id="experience-start" class="w-full px-4 py-2 border rounded-lg" placeholder="YYYY" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">End Date</label>
                        <input type="text" id="experience-end" class="w-full px-4 py-2 border rounded-lg" placeholder="YYYY or Present">
                    </div>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Description</label>
                    <textarea id="experience-description" rows="4" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Skills (comma separated)</label>
                    <input type="text" id="experience-skills" class="w-full px-4 py-2 border rounded-lg" placeholder="e.g., Machine Learning, Python, AI">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Add Experience</button>
            </form>
        </div>
    </div>

    <!-- Add Education Modal -->
    <div id="add-education-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('add-education-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Add Education</h2>
            <form id="education-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Degree</label>
                    <input type="text" id="education-degree" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Institution</label>
                    <input type="text" id="education-institution" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 mb-2">Start Date</label>
                        <input type="text" id="education-start" class="w-full px-4 py-2 border rounded-lg" placeholder="YYYY" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">End Date</label>
                        <input type="text" id="education-end" class="w-full px-4 py-2 border rounded-lg" placeholder="YYYY">
                    </div>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Description</label>
                    <textarea id="education-description" rows="4" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Skills (comma separated)</label>
                    <input type="text" id="education-skills" class="w-full px-4 py-2 border rounded-lg" placeholder="e.g., Machine Learning, Python, AI">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Add Education</button>
            </form>
        </div>
    </div>

    <!-- Add Skills Modal -->
    <div id="add-skills-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('add-skills-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Add Skills</h2>
            <form id="skills-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Skill Type</label>
                    <select id="skill-type" class="w-full px-4 py-2 border rounded-lg">
                        <option value="core">Core AI Skill</option>
                        <option value="technical">Technical Tool</option>
                        <option value="certification">Certification</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Skill Name</label>
                    <input type="text" id="skill-name" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Proficiency (0-100%)</label>
                    <input type="number" id="skill-proficiency" min="0" max="100" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div id="certification-fields" style="display: none;">
                    <div>
                        <label class="block text-gray-700 mb-2">Issuing Organization</label>
                        <input type="text" id="certification-org" class="w-full px-4 py-2 border rounded-lg">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Year Issued</label>
                        <input type="text" id="certification-year" class="w-full px-4 py-2 border rounded-lg">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Description</label>
                        <textarea id="certification-description" rows="3" class="w-full px-4 py-2 border rounded-lg"></textarea>
                    </div>
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Add Skill</button>
            </form>
        </div>
    </div>

    <!-- Add Project Modal -->
    <div id="add-project-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('add-project-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Add Project</h2>
            <form id="project-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Project Name</label>
                    <input type="text" id="project-name" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Description</label>
                    <textarea id="project-description" rows="4" class="w-full px-4 py-2 border rounded-lg" required></textarea>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Project Type</label>
                    <select id="project-type" class="w-full px-4 py-2 border rounded-lg">
                        <option value="Research">Research</option>
                        <option value="Open Source">Open Source</option>
                        <option value="Commercial">Commercial</option>
                        <option value="Personal">Personal</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">GitHub Link</label>
                    <input type="url" id="project-github" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Documentation Link</label>
                    <input type="url" id="project-docs" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Skills Used (comma separated)</label>
                    <input type="text" id="project-skills" class="w-full px-4 py-2 border rounded-lg" placeholder="e.g., Python, Machine Learning, NLP">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Project Image</label>
                    <input type="file" id="project-image" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Add Project</button>
            </form>
        </div>
    </div>

    <!-- Add Publication Modal -->
    <div id="add-publication-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('add-publication-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Add Publication</h2>
            <form id="publication-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 mb-2">Title</label>
                    <input type="text" id="publication-title" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Journal/Conference</label>
                    <input type="text" id="publication-journal" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Year</label>
                    <input type="text" id="publication-year" class="w-full px-4 py-2 border rounded-lg" required>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Description</label>
                    <textarea id="publication-description" rows="4" class="w-full px-4 py-2 border rounded-lg"></textarea>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Link</label>
                    <input type="url" id="publication-link" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Add Publication</button>
            </form>
        </div>
    </div>

    <!-- Avatar Upload Modal -->
    <div id="avatar-upload-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('avatar-upload-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Upload Profile Picture</h2>
            <form id="avatar-form" class="space-y-4">
                <div class="flex justify-center">
                    <div class="w-32 h-32 rounded-full border-4 border-white object-cover shadow-lg overflow-hidden relative">
                        <img id="avatar-preview" src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1180&q=80" alt="Profile Preview" class="w-full h-full object-cover">
                    </div>
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Select Image</label>
                    <input type="file" id="avatar-input" accept="image/*" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Upload & Save</button>
            </form>
        </div>
    </div>

    <!-- Banner Upload Modal -->
    <div id="banner-upload-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal('banner-upload-modal')">&times;</span>
            <h2 class="text-xl font-bold mb-4">Upload Banner Image</h2>
            <form id="banner-form" class="space-y-4">
                <div class="h-40 bg-gray-100 rounded-lg overflow-hidden">
                    <img id="banner-preview" src="https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="Banner Preview" class="w-full h-full object-cover">
                </div>
                <div>
                    <label class="block text-gray-700 mb-2">Select Image</label>
                    <input type="file" id="banner-input" accept="image/*" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <button type="submit" class="gradient-bg text-white px-4 py-2 rounded-lg w-full">Upload & Save</button>
            </form>
        </div>
    </div>

    <script>
        // Enhanced JavaScript for interactive elements
        document.addEventListener('DOMContentLoaded', function() {
            // Sidebar navigation active state
            const sidebarItems = document.querySelectorAll('.sidebar-item');
            sidebarItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    sidebarItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Smooth scroll to section
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Skill tags shine effect on hover
            const skillTags = document.querySelectorAll('.skill-tag');
            skillTags.forEach(tag => {
                tag.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05)';
                });
                tag.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                });
            });

            // Connect buttons in network section
            const connectButtons = document.querySelectorAll('#social button:not(.bg-gradient-to-r)');
            connectButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const name = this.closest('.bg-indigo-50').querySelector('p.font-medium').textContent;
                    showToast(`Connection request sent to ${name}`);
                });
            });

            // Animate elements when they come into view
            const animateOnScroll = () => {
                const elements = document.querySelectorAll('.animate-fade-in');
                elements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    const isVisible = (rect.top <= window.innerHeight * 0.8);
                    
                    if (isVisible) {
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }
                });
            };

            // Initial check and then on scroll
            animateOnScroll();
            window.addEventListener('scroll', animateOnScroll);

            // Show certification fields when certification is selected
            document.getElementById('skill-type').addEventListener('change', function() {
                const certificationFields = document.getElementById('certification-fields');
                if (this.value === 'certification') {
                    certificationFields.style.display = 'block';
                } else {
                    certificationFields.style.display = 'none';
                }
            });

            // Preview avatar image before upload
            document.getElementById('avatar-input')?.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        document.getElementById('avatar-preview').src = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Preview banner image before upload
            document.getElementById('banner-input')?.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        document.getElementById('banner-preview').src = event.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            });
        });

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function openEditProfileModal() {
            // Populate form with current data
            document.getElementById('edit-name').value = document.getElementById('user-name').textContent;
            document.getElementById('edit-title').value = document.getElementById('user-title').textContent;
            document.getElementById('edit-profile-url').value = document.getElementById('profile-link').textContent;
            openModal('edit-profile-modal');
        }

        function openEditLocationModal() {
            // Populate form with current data
            document.getElementById('edit-location').value = document.getElementById('user-location').textContent;
            document.getElementById('edit-email').value = document.getElementById('user-email').textContent;
            document.getElementById('edit-phone').value = document.getElementById('user-phone').textContent;
            document.getElementById('edit-timezone').value = document.getElementById('user-timezone').textContent;
            openModal('edit-location-modal');
        }

        function openEditSummaryModal() {
            // Populate form with current data
            document.getElementById('edit-summary').value = document.getElementById('user-summary').textContent;
            openModal('edit-summary-modal');
        }

        function openEditLinksModal() {
            // Populate form with current data
            document.getElementById('edit-github').value = document.getElementById('user-github').textContent;
            document.getElementById('edit-linkedin').value = document.getElementById('user-linkedin').textContent;
            document.getElementById('edit-scholar').value = document.getElementById('user-scholar').textContent;
            openModal('edit-links-modal');
        }

        function openAddExperienceModal() {
            openModal('add-experience-modal');
        }

        function openAddEducationModal() {
            openModal('add-education-modal');
        }

        function openAddSkillsModal() {
            openModal('add-skills-modal');
        }

        function openAddProjectModal() {
            openModal('add-project-modal');
        }

        function openAddPublicationModal() {
            openModal('add-publication-modal');
        }

        function openAvatarUploadModal() {
            openModal('avatar-upload-modal');
        }

        function openBannerUploadModal() {
            openModal('banner-upload-modal');
        }

        function copyProfileLink() {
            const link = document.getElementById('profile-link').textContent;
            navigator.clipboard.writeText(link);
            showToast('Profile link copied to clipboard!');
        }

        // Toast notification function
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center animate-fade-in';
            toast.innerHTML = `
                <i class="fas fa-check-circle text-green-400 mr-2"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Form submission handlers
        document.getElementById('profile-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            // Update the UI with new values
            document.getElementById('user-name').textContent = document.getElementById('edit-name').value;
            document.getElementById('user-title').textContent = document.getElementById('edit-title').value;
            document.getElementById('profile-link').textContent = document.getElementById('edit-profile-url').value;
            
            // Here you would also update Firestore
            // updateUserData({ 
            //     name: document.getElementById('edit-name').value,
            //     title: document.getElementById('edit-title').value,
            //     profileUrl: document.getElementById('edit-profile-url').value
            // });
            
            closeModal('edit-profile-modal');
            showToast('Profile updated successfully!');
        });

        document.getElementById('location-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            // Update the UI with new values
            document.getElementById('user-location').textContent = document.getElementById('edit-location').value;
            document.getElementById('user-email').textContent = document.getElementById('edit-email').value;
            document.getElementById('user-phone').textContent = document.getElementById('edit-phone').value;
            document.getElementById('user-timezone').textContent = document.getElementById('edit-timezone').value;
            
            // Here you would also update Firestore
            // updateUserData({ 
            //     location: document.getElementById('edit-location').value,
            //     email: document.getElementById('edit-email').value,
            //     phone: document.getElementById('edit-phone').value,
            //     timezone: document.getElementById('edit-timezone').value
            // });
            
            closeModal('edit-location-modal');
            showToast('Location & contact updated successfully!');
        });

        document.getElementById('summary-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            // Update the UI with new values
            document.getElementById('user-summary').textContent = document.getElementById('edit-summary').value;
            
            // Here you would also update Firestore
            // updateUserData({ 
            //     summary: document.getElementById('edit-summary').value
            // });
            
            closeModal('edit-summary-modal');
            showToast('Professional summary updated successfully!');
        });

        document.getElementById('links-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            // Update the UI with new values
            document.getElementById('user-github').textContent = document.getElementById('edit-github').value;
            document.getElementById('user-linkedin').textContent = document.getElementById('edit-linkedin').value;
            document.getElementById('user-scholar').textContent = document.getElementById('edit-scholar').value;
            
            // Here you would also update Firestore
            // updateUserData({ 
            //     github: document.getElementById('edit-github').value,
            //     linkedin: document.getElementById('edit-linkedin').value,
            //     scholar: document.getElementById('edit-scholar').value
            // });
            
            closeModal('edit-links-modal');
            showToast('Professional links updated successfully!');
        });

        document.getElementById('experience-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Create experience item
            const experienceItem = {
                title: document.getElementById('experience-title').value,
                company: document.getElementById('experience-company').value,
                start: document.getElementById('experience-start').value,
                end: document.getElementById('experience-end').value || 'Present',
                description: document.getElementById('experience-description').value,
                skills: document.getElementById('experience-skills').value.split(',').map(skill => skill.trim())
            };
            
            // Here you would add to Firestore
            // addExperience(experienceItem);
            
            // Add to UI
            addExperienceToUI(experienceItem);
            
            // Reset form
            this.reset();
            closeModal('add-experience-modal');
            showToast('Experience added successfully!');
        });

        document.getElementById('education-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Create education item
            const educationItem = {
                degree: document.getElementById('education-degree').value,
                institution: document.getElementById('education-institution').value,
                start: document.getElementById('education-start').value,
                end: document.getElementById('education-end').value || 'Present',
                description: document.getElementById('education-description').value,
                skills: document.getElementById('education-skills').value.split(',').map(skill => skill.trim())
            };
            
            // Here you would add to Firestore
            // addEducation(educationItem);
            
            // Add to UI
            addEducationToUI(educationItem);
            
            // Reset form
            this.reset();
            closeModal('add-education-modal');
            showToast('Education added successfully!');
        });

        document.getElementById('skills-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const skillType = document.getElementById('skill-type').value;
            const skillName = document.getElementById('skill-name').value;
            
            if (skillType === 'certification') {
                const certification = {
                    name: skillName,
                    organization: document.getElementById('certification-org').value,
                    year: document.getElementById('certification-year').value,
                    description: document.getElementById('certification-description').value
                };
                
                // Here you would add to Firestore
                // addCertification(certification);
                
                // Add to UI
                addCertificationToUI(certification);
            } else {
                const skill = {
                    name: skillName,
                    type: skillType,
                    proficiency: document.getElementById('skill-proficiency').value || '0'
                };
                
                // Here you would add to Firestore
                // addSkill(skill);
                
                // Add to UI
                addSkillToUI(skill);
            }
            
            // Reset form
            this.reset();
            closeModal('add-skills-modal');
            showToast('Skill added successfully!');
        });

        document.getElementById('project-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Create project item
            const projectItem = {
                name: document.getElementById('project-name').value,
                description: document.getElementById('project-description').value,
                type: document.getElementById('project-type').value,
                github: document.getElementById('project-github').value,
                documentation: document.getElementById('project-docs').value,
                skills: document.getElementById('project-skills').value.split(',').map(skill => skill.trim()),
                image: 'https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80' // Default image
            };
            
            // Handle image upload
            const imageFile = document.getElementById('project-image').files[0];
            if (imageFile) {
                // Here you would upload the image to Firebase Storage
                // and get the URL to store in Firestore
                // uploadProjectImage(imageFile).then(url => {
                //     projectItem.image = url;
                //     addProject(projectItem);
                // });
            } else {
                // addProject(projectItem);
            }
            
            // Add to UI
            addProjectToUI(projectItem);
            
            // Reset form
            this.reset();
            closeModal('add-project-modal');
            showToast('Project added successfully!');
        });

        document.getElementById('publication-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Create publication item
            const publicationItem = {
                title: document.getElementById('publication-title').value,
                journal: document.getElementById('publication-journal').value,
                year: document.getElementById('publication-year').value,
                description: document.getElementById('publication-description').value,
                link: document.getElementById('publication-link').value
            };
            
            // Here you would add to Firestore
            // addPublication(publicationItem);
            
            // Add to UI
            addPublicationToUI(publicationItem);
            
            // Reset form
            this.reset();
            closeModal('add-publication-modal');
            showToast('Publication added successfully!');
        });

        document.getElementById('avatar-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const file = document.getElementById('avatar-input').files[0];
            if (file) {
                // Here you would upload the image to Firebase Storage
                // and update the user's profile picture in Firestore
                // uploadProfileImage(file).then(url => {
                //     updateProfileImage(url);
                // });
                
                // For demo purposes, we'll just update the UI
                const reader = new FileReader();
                reader.onload = function(event) {
                    document.getElementById('profile-image').src = event.target.result;
                    document.getElementById('avatar-preview').src = event.target.result;
                };
                reader.readAsDataURL(file);
                
                closeModal('avatar-upload-modal');
                showToast('Profile picture updated successfully!');
            } else {
                showToast('Please select an image first!', 'error');
            }
        });

        document.getElementById('banner-form')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const file = document.getElementById('banner-input').files[0];
            if (file) {
                // Here you would upload the image to Firebase Storage
                // and update the user's banner image in Firestore
                // uploadBannerImage(file).then(url => {
                //     updateBannerImage(url);
                // });
                
                // For demo purposes, we'll just update the UI
                const reader = new FileReader();
                reader.onload = function(event) {
                    document.getElementById('banner-image').src = event.target.result;
                    document.getElementById('banner-preview').src = event.target.result;
                };
                reader.readAsDataURL(file);
                
                closeModal('banner-upload-modal');
                showToast('Banner image updated successfully!');
            } else {
                showToast('Please select an image first!', 'error');
            }
        });

        // UI update functions
        function addExperienceToUI(experience) {
            const experienceList = document.getElementById('experience-list');
            
            const experienceItem = document.createElement('div');
            experienceItem.className = 'border-l-2 border-indigo-500 pl-4 py-1 group';
            experienceItem.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>
                        <h4 class="font-bold text-gray-800 group-hover:text-indigo-600 transition">${experience.title}</h4>
                        <p class="text-gray-600">at ${experience.company}</p>
                    </div>
                    <span class="text-sm text-gray-500 bg-indigo-50 px-2 py-1 rounded">${experience.start} - ${experience.end}</span>
                </div>
                <p class="mt-2 text-gray-700">${experience.description}</p>
                <div class="mt-3 flex flex-wrap gap-2">
                    ${experience.skills.map(skill => `<span class="skill-tag bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full text-xs">${skill}</span>`).join('')}
                </div>
            `;
            
            experienceList.appendChild(experienceItem);
        }

        function addEducationToUI(education) {
            const educationList = document.getElementById('education-list');
            
            const educationItem = document.createElement('div');
            educationItem.className = 'border-l-2 border-indigo-500 pl-4 py-1 group';
            educationItem.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>
                        <h4 class="font-bold text-gray-800 group-hover:text-indigo-600 transition">${education.degree}</h4>
                        <p class="text-gray-600">at ${education.institution}</p>
                    </div>
                    <span class="text-sm text-gray-500 bg-indigo-50 px-2 py-1 rounded">${education.start} - ${education.end}</span>
                </div>
                <p class="mt-2 text-gray-700">${education.description}</p>
                <div class="mt-3 flex flex-wrap gap-2">
                    ${education.skills.map(skill => `<span class="skill-tag bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full text-xs">${skill}</span>`).join('')}
                </div>
            `;
            
            educationList.appendChild(educationItem);
        }

        function addSkillToUI(skill) {
            let skillList;
            if (skill.type === 'core') {
                skillList = document.getElementById('core-skills-list');
            } else {
                skillList = document.getElementById('technical-skills-list');
            }
            
            const skillItem = document.createElement('div');
            skillItem.className = 'relative';
            skillItem.innerHTML = `
                <span class="skill-tag bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-full flex items-center">
                    <span>${skill.name}</span>
                    <span class="ml-2 bg-white/20 rounded-full px-2 py-0.5 text-xs">${skill.proficiency}%</span>
                </span>
            `;
            
            skillList.appendChild(skillItem);
        }

        function addCertificationToUI(certification) {
            const certificationsList = document.getElementById('certifications-list');
            
            const certificationItem = document.createElement('div');
            certificationItem.className = 'bg-gradient-to-r from-indigo-500 to-blue-500 rounded-xl p-4 text-white';
            certificationItem.innerHTML = `
                <div class="flex items-center mb-3">
                    <div class="bg-white/20 rounded-lg p-2 mr-3">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <div>
                        <p class="font-bold">${certification.name}</p>
                        <p class="text-xs opacity-80">${certification.organization}</p>
                    </div>
                </div>
                <p class="text-sm mb-3">${certification.description}</p>
                <div class="flex justify-between items-center text-xs">
                    <span>Issued: ${certification.year}</span>
                    <button class="bg-white/20 hover:bg-white/30 px-2 py-1 rounded">View</button>
                </div>
            `;
            
            certificationsList.appendChild(certificationItem);
        }

        function addProjectToUI(project) {
            const projectsList = document.getElementById('projects-list');
            
            const projectItem = document.createElement('div');
            projectItem.className = 'border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition';
            projectItem.innerHTML = `
                <div class="h-40 bg-gradient-to-r from-indigo-500 to-purple-600 relative">
                    <img src="${project.image}" alt="${project.name}" class="w-full h-full object-cover">
                    <div class="absolute bottom-4 left-4">
                        <span class="bg-white text-indigo-600 px-2 py-1 rounded text-xs font-medium">${project.type}</span>
                    </div>
                </div>
                <div class="p-5">
                    <h3 class="font-bold text-lg text-gray-800 mb-2">${project.name}</h3>
                    <p class="text-gray-600 text-sm mb-4">${project.description}</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        ${project.skills.map(skill => `<span class="bg-indigo-100 text-indigo-700 px-2 py-1 rounded-full text-xs">${skill}</span>`).join('')}
                    </div>
                    <div class="flex justify-between items-center text-sm">
                        ${project.github ? `<a href="${project.github}" target="_blank" class="text-indigo-500 hover:text-indigo-700">GitHub</a>` : ''}
                                        ${project.documentation ? `<a href="${project.documentation}" target="_blank" class="text-indigo-500 hover:text-indigo-700">Docs</a>` : ''}
                    </div>
                </div>
            `;
            
            projectsList.appendChild(projectItem);
        }

        function addPublicationToUI(publication) {
            const publicationsList = document.getElementById('publications-list');
            
            const publicationItem = document.createElement('div');
            publicationItem.className = 'border-l-2 border-indigo-500 pl-4 py-2 group';
            publicationItem.innerHTML = `
                <div class="flex justify-between items-start">
                    <div>
                        <h4 class="font-bold text-gray-800 group-hover:text-indigo-600 transition">"${publication.title}"</h4>
                        <p class="text-gray-600">${publication.journal}, ${publication.year}</p>
                    </div>
                    <span class="text-sm text-gray-500 bg-indigo-50 px-2 py-1 rounded">Citations: 0</span>
                </div>
                <p class="mt-1 text-gray-700 text-sm">${publication.description}</p>
                <div class="mt-2">
                    ${publication.link ? `<a href="${publication.link}" target="_blank" class="text-indigo-500 text-sm hover:text-indigo-700 mr-3">
                        <i class="fas fa-link mr-1"></i> View Paper
                    </a>` : ''}
                    <button class="text-indigo-500 text-sm hover:text-indigo-700">
                        <i class="fas fa-quote-right mr-1"></i> Cite
                    </button>
                </div>
            `;
            
            publicationsList.appendChild(publicationItem);
        }
    </script>

    <!-- Firebase Integration Script -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { 
            getAuth, 
            onAuthStateChanged,
            signOut
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { 
            getFirestore, 
            doc, 
            getDoc, 
            setDoc,
            collection,
            addDoc,
            updateDoc,
            onSnapshot
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { 
            getStorage, 
            ref, 
            uploadBytes, 
            getDownloadURL 
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCcFX4LXH-wWpTAPjXRd_7CIL0_PkldyFY",
            authDomain: "newproject-eaafb.firebaseapp.com",
            projectId: "newproject-eaafb",
            storageBucket: "newproject-eaafb.appspot.com",
            messagingSenderId: "462532086346",
            appId: "1:462532086346:web:f3689678f389eb941534b3"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);

        // Add logout button functionality
        function setupLogoutButton() {
            const logoutButton = document.createElement('button');
            logoutButton.className = 'absolute bottom-24 left-6 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center transition shadow-md';
            logoutButton.innerHTML = '<i class="fas fa-sign-out-alt mr-2"></i> Logout';
            logoutButton.onclick = () => {
                signOut(auth).then(() => {
                    window.location.href = 'login.html';
                }).catch((error) => {
                    console.error('Logout error:', error);
                    showToast('Error logging out. Please try again.', 'error');
                });
            };
            document.querySelector('.sidebar').appendChild(logoutButton);
        }

        // Function to update user data in Firestore
        async function updateUserData(userId, data) {
            try {
                await setDoc(doc(db, "users", userId), data, { merge: true });
                showToast('Profile updated successfully!');
                return true;
            } catch (error) {
                console.error("Error updating user data:", error);
                showToast('Error updating profile. Please try again.', 'error');
                return false;
            }
        }

        // Function to upload image to Firebase Storage
        async function uploadImage(userId, file, path) {
            try {
                const storageRef = ref(storage, `${path}/${userId}/${file.name}`);
                await uploadBytes(storageRef, file);
                const downloadURL = await getDownloadURL(storageRef);
                return downloadURL;
            } catch (error) {
                console.error("Error uploading image:", error);
                showToast('Error uploading image. Please try again.', 'error');
                return null;
            }
        }

        // Function to add a new document to a collection
        async function addDocument(collectionName, data) {
            try {
                const docRef = await addDoc(collection(db, collectionName), data);
                return docRef.id;
            } catch (error) {
                console.error(`Error adding ${collectionName}:`, error);
                showToast(`Error adding ${collectionName}. Please try again.`, 'error');
                return null;
            }
        }

        // Function to fetch user data from Firestore
        async function fetchUserData(userId) {
            try {
                const docRef = doc(db, "users", userId);
                const docSnap = await getDoc(docRef);
                
                if (docSnap.exists()) {
                    return docSnap.data();
                } else {
                    console.log("No such document!");
                    return null;
                }
            } catch (error) {
                console.error("Error fetching user data:", error);
                return null;
            }
        }

        // Function to fetch collection data with real-time updates
        function fetchCollectionData(userId, collectionName, callback) {
            const collectionRef = collection(db, "users", userId, collectionName);
            
            return onSnapshot(collectionRef, (querySnapshot) => {
                const data = [];
                querySnapshot.forEach((doc) => {
                    data.push({ id: doc.id, ...doc.data() });
                });
                callback(data);
            }, (error) => {
                console.error(`Error fetching ${collectionName}:`, error);
            });
        }

        // Main initialization when auth state changes
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // User is signed in
                const userId = user.uid;
                
                // Setup logout button
                setupLogoutButton();
                
                // Fetch user data
                const userData = await fetchUserData(userId);
                if (userData) {
                    // Update profile information
                    if (userData.name) document.getElementById('user-name').textContent = userData.name;
                    if (userData.title) document.getElementById('user-title').textContent = userData.title;
                    if (userData.profileUrl) document.getElementById('profile-link').textContent = userData.profileUrl;
                    if (userData.location) document.getElementById('user-location').textContent = userData.location;
                    if (userData.email) document.getElementById('user-email').textContent = userData.email;
                    if (userData.phone) document.getElementById('user-phone').textContent = userData.phone;
                    if (userData.timezone) document.getElementById('user-timezone').textContent = userData.timezone;
                    if (userData.summary) document.getElementById('user-summary').textContent = userData.summary;
                    if (userData.github) document.getElementById('user-github').textContent = userData.github;
                    if (userData.linkedin) document.getElementById('user-linkedin').textContent = userData.linkedin;
                    if (userData.scholar) document.getElementById('user-scholar').textContent = userData.scholar;
                    if (userData.profileImage) document.getElementById('profile-image').src = userData.profileImage;
                    if (userData.bannerImage) document.getElementById('banner-image').src = userData.bannerImage;
                    
                    // Set up real-time listeners for collections
                    fetchCollectionData(userId, 'experience', (data) => {
                        const experienceList = document.getElementById('experience-list');
                        experienceList.innerHTML = '';
                        data.forEach(exp => {
                            addExperienceToUI(exp);
                        });
                    });
                    
                    fetchCollectionData(userId, 'education', (data) => {
                        const educationList = document.getElementById('education-list');
                        educationList.innerHTML = '';
                        data.forEach(edu => {
                            addEducationToUI(edu);
                        });
                    });
                    
                    fetchCollectionData(userId, 'skills', (data) => {
                        const coreSkillsList = document.getElementById('core-skills-list');
                        const techSkillsList = document.getElementById('technical-skills-list');
                        coreSkillsList.innerHTML = '';
                        techSkillsList.innerHTML = '';
                        
                        data.forEach(skill => {
                            if (skill.type === 'core') {
                                addSkillToUI(skill);
                            } else {
                                addSkillToUI(skill);
                            }
                        });
                    });
                    
                    fetchCollectionData(userId, 'certifications', (data) => {
                        const certificationsList = document.getElementById('certifications-list');
                        certificationsList.innerHTML = '';
                        data.forEach(cert => {
                            addCertificationToUI(cert);
                        });
                    });
                    
                    fetchCollectionData(userId, 'projects', (data) => {
                        const projectsList = document.getElementById('projects-list');
                        projectsList.innerHTML = '';
                        data.forEach(project => {
                            addProjectToUI(project);
                        });
                    });
                    
                    fetchCollectionData(userId, 'publications', (data) => {
                        const publicationsList = document.getElementById('publications-list');
                        publicationsList.innerHTML = '';
                        data.forEach(pub => {
                            addPublicationToUI(pub);
                        });
                    });
                } else {
                    // Initialize with default data if no document exists
                    await setDoc(doc(db, "users", userId), {
                        name: "Dr. Alex Chen",
                        title: "AI Research Scientist & Machine Learning Engineer",
                        profileUrl: "https://careerpath.ai/alexchen",
                        location: "San Francisco, CA",
                        email: "alex.chen@careerpath.ai",
                        phone: "+1 (415) 555-0199",
                        timezone: "PST (UTC-8)",
                        summary: "PhD in Artificial Intelligence with 8+ years of experience in machine learning, deep learning, and AI research. Specialized in computer vision, natural language processing, and reinforcement learning. Passionate about developing ethical AI solutions that solve real-world problems.",
                        github: "github.com/alexchen-ai",
                        linkedin: "linkedin.com/in/alexchen-ai",
                        scholar: "scholar.google.com/citations?user=alexchen",
                        profileImage: "https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1180&q=80",
                        bannerImage: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80"
                    });
                }
                
                // Update form submission handlers to use Firestore
                document.getElementById('profile-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const success = await updateUserData(userId, {
                        name: document.getElementById('edit-name').value,
                        title: document.getElementById('edit-title').value,
                        profileUrl: document.getElementById('edit-profile-url').value
                    });
                    
                    if (success) {
                        closeModal('edit-profile-modal');
                    }
                });
                
                document.getElementById('location-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const success = await updateUserData(userId, {
                        location: document.getElementById('edit-location').value,
                        email: document.getElementById('edit-email').value,
                        phone: document.getElementById('edit-phone').value,
                        timezone: document.getElementById('edit-timezone').value
                    });
                    
                    if (success) {
                        closeModal('edit-location-modal');
                    }
                });
                
                document.getElementById('summary-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const success = await updateUserData(userId, {
                        summary: document.getElementById('edit-summary').value
                    });
                    
                    if (success) {
                        closeModal('edit-summary-modal');
                    }
                });
                
                document.getElementById('links-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const success = await updateUserData(userId, {
                        github: document.getElementById('edit-github').value,
                        linkedin: document.getElementById('edit-linkedin').value,
                        scholar: document.getElementById('edit-scholar').value
                    });
                    
                    if (success) {
                        closeModal('edit-links-modal');
                    }
                });
                
                document.getElementById('experience-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const experienceItem = {
                        title: document.getElementById('experience-title').value,
                        company: document.getElementById('experience-company').value,
                        start: document.getElementById('experience-start').value,
                        end: document.getElementById('experience-end').value || 'Present',
                        description: document.getElementById('experience-description').value,
                        skills: document.getElementById('experience-skills').value.split(',').map(skill => skill.trim())
                    };
                    
                    const docId = await addDocument(`users/${userId}/experience`, experienceItem);
                    
                    if (docId) {
                        this.reset();
                        closeModal('add-experience-modal');
                    }
                });
                
                document.getElementById('education-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const educationItem = {
                        degree: document.getElementById('education-degree').value,
                        institution: document.getElementById('education-institution').value,
                        start: document.getElementById('education-start').value,
                        end: document.getElementById('education-end').value || 'Present',
                        description: document.getElementById('education-description').value,
                        skills: document.getElementById('education-skills').value.split(',').map(skill => skill.trim())
                    };
                    
                    const docId = await addDocument(`users/${userId}/education`, educationItem);
                    
                    if (docId) {
                        this.reset();
                        closeModal('add-education-modal');
                    }
                });
                
                document.getElementById('skills-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const skillType = document.getElementById('skill-type').value;
                    const skillName = document.getElementById('skill-name').value;
                    
                    if (skillType === 'certification') {
                        const certification = {
                            name: skillName,
                            organization: document.getElementById('certification-org').value,
                            year: document.getElementById('certification-year').value,
                            description: document.getElementById('certification-description').value
                        };
                        
                        const docId = await addDocument(`users/${userId}/certifications`, certification);
                    } else {
                        const skill = {
                            name: skillName,
                            type: skillType,
                            proficiency: document.getElementById('skill-proficiency').value || '0'
                        };
                        
                        const docId = await addDocument(`users/${userId}/skills`, skill);
                    }
                    
                    if (docId) {
                        this.reset();
                        closeModal('add-skills-modal');
                    }
                });
                
                document.getElementById('project-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const projectItem = {
                        name: document.getElementById('project-name').value,
                        description: document.getElementById('project-description').value,
                        type: document.getElementById('project-type').value,
                        github: document.getElementById('project-github').value,
                        documentation: document.getElementById('project-docs').value,
                        skills: document.getElementById('project-skills').value.split(',').map(skill => skill.trim()),
                        image: 'https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80' // Default image
                    };
                    
                    const imageFile = document.getElementById('project-image').files[0];
                    if (imageFile) {
                        const imageUrl = await uploadImage(userId, imageFile, 'project_images');
                        if (imageUrl) {
                            projectItem.image = imageUrl;
                        }
                    }
                    
                    const docId = await addDocument(`users/${userId}/projects`, projectItem);
                    
                    if (docId) {
                        this.reset();
                        closeModal('add-project-modal');
                    }
                });
                
                document.getElementById('publication-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const publicationItem = {
                        title: document.getElementById('publication-title').value,
                        journal: document.getElementById('publication-journal').value,
                        year: document.getElementById('publication-year').value,
                        description: document.getElementById('publication-description').value,
                        link: document.getElementById('publication-link').value
                    };
                    
                    const docId = await addDocument(`users/${userId}/publications`, publicationItem);
                    
                    if (docId) {
                        this.reset();
                        closeModal('add-publication-modal');
                    }
                });
                
                document.getElementById('avatar-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const file = document.getElementById('avatar-input').files[0];
                    if (file) {
                        const imageUrl = await uploadImage(userId, file, 'profile_images');
                        if (imageUrl) {
                            const success = await updateUserData(userId, { profileImage: imageUrl });
                            if (success) {
                                document.getElementById('profile-image').src = imageUrl;
                                document.getElementById('avatar-preview').src = imageUrl;
                                closeModal('avatar-upload-modal');
                            }
                        }
                    } else {
                        showToast('Please select an image first!', 'error');
                    }
                });
                
                document.getElementById('banner-form').addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const file = document.getElementById('banner-input').files[0];
                    if (file) {
                        const imageUrl = await uploadImage(userId, file, 'banner_images');
                        if (imageUrl) {
                            const success = await updateUserData(userId, { bannerImage: imageUrl });
                            if (success) {
                                document.getElementById('banner-image').src = imageUrl;
                                document.getElementById('banner-preview').src = imageUrl;
                                closeModal('banner-upload-modal');
                            }
                        }
                    } else {
                        showToast('Please select an image first!', 'error');
                    }
                });
                
            } else {
                // User is signed out, redirect to login page
                window.location.href = 'login.html';
            }
        });

        // Enhanced toast notification function
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            const icon = type === 'success' ? 'fa-check-circle text-green-400' : 'fa-exclamation-circle text-red-400';
            
            toast.className = `fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center animate-fade-in`;
            toast.innerHTML = `
                <i class="fas ${icon} mr-2"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
    </script>
</body>
</html>
